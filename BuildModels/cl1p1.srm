#!/usr/bin/bash
#SBATCH --nodes=1                #Número de Nós
#SBATCH --ntasks-per-node=6   #Número de tarefas por Nó
#SBATCH --ntasks=6              #Numero total de tarefas MPI
#SBATCH --cpus-per-task=25
#SBATCH -p labinfo                  #Fila (partition) a ser utilizada
#SBATCH -J 1models #Nome job
###SBATCH --time=00:00:30          #Obrigatório

#Exibe os nós alocados para o Job e acessa o diretorio em que o script foi submetido
echo $SLURM_JOB_NODELIST
cd  $SLURM_SUBMIT_DIR

## 1) Carrega o módulo
module load R/4.3.0_bio


mkdir class1_10000bp_22
Rscript class1_rf.R "/labinfo/home/aandrade/data/datasets/featureMatrices/arboviruses/featureMatrix_arboviruses_10000bp_22_filtered_train.csv.gz" "/labinfo/home/aandrade/data/datasets/featureMatrices/mosquito/featureMatrix_mosquito_subset_10000bp_22_train.csv.gz" "/labinfo/home/aandrade/data/datasets/featureMatrices/otherviruses/featureMatrix_otherviruses_10000bp_22_filtered_train.csv.gz" "class1_10000bp_22" 1 500 &

mkdir class1_10000bp_21
Rscript class1_rf.R "/labinfo/home/aandrade/data/datasets/featureMatrices/arboviruses/featureMatrix_arboviruses_10000bp_21_filtered_train.csv.gz" "/labinfo/home/aandrade/data/datasets/featureMatrices/mosquito/featureMatrix_mosquito_subset_10000bp_21_train.csv.gz" "/labinfo/home/aandrade/data/datasets/featureMatrices/otherviruses/featureMatrix_otherviruses_10000bp_21_filtered_train.csv.gz" "class1_10000bp_21" 1 500 &

mkdir class1_10000bp_13
Rscript class1_rf.R "/labinfo/home/aandrade/data/datasets/featureMatrices/arboviruses/featureMatrix_arboviruses_10000bp_13_filtered_train.csv.gz" "/labinfo/home/aandrade/data/datasets/featureMatrices/mosquito/featureMatrix_mosquito_subset_10000bp_13_train.csv.gz" "/labinfo/home/aandrade/data/datasets/featureMatrices/otherviruses/featureMatrix_otherviruses_10000bp_13_filtered_train.csv.gz" "class1_10000bp_13" 1 500 &

mkdir class1_10000bp_20
Rscript class1_rf.R "/labinfo/home/aandrade/data/datasets/featureMatrices/arboviruses/featureMatrix_arboviruses_10000bp_20_filtered_train.csv.gz" "/labinfo/home/aandrade/data/datasets/featureMatrices/mosquito/featureMatrix_mosquito_subset_10000bp_20_train.csv.gz" "/labinfo/home/aandrade/data/datasets/featureMatrices/otherviruses/featureMatrix_otherviruses_10000bp_20_filtered_train.csv.gz" "class1_10000bp_20" 1 500 &

mkdir class1_10000bp_12
Rscript class1_rf.R "/labinfo/home/aandrade/data/datasets/featureMatrices/arboviruses/featureMatrix_arboviruses_10000bp_12_filtered_train.csv.gz" "/labinfo/home/aandrade/data/datasets/featureMatrices/mosquito/featureMatrix_mosquito_subset_10000bp_12_train.csv.gz" "/labinfo/home/aandrade/data/datasets/featureMatrices/otherviruses/featureMatrix_otherviruses_10000bp_12_filtered_train.csv.gz" "class1_10000bp_12" 1 500 &

mkdir class1_10000bp_40
Rscript class1_rf.R "/labinfo/home/aandrade/data/datasets/featureMatrices/arboviruses/featureMatrix_arboviruses_10000bp_40_filtered_train.csv.gz" "/labinfo/home/aandrade/data/datasets/featureMatrices/mosquito/featureMatrix_mosquito_subset_10000bp_40_train.csv.gz" "/labinfo/home/aandrade/data/datasets/featureMatrices/otherviruses/featureMatrix_otherviruses_10000bp_40_filtered_train.csv.gz" "class1_10000bp_40" 1 500 &

mkdir class1_10000bp_31
Rscript class1_rf.R "/labinfo/home/aandrade/data/datasets/featureMatrices/arboviruses/featureMatrix_arboviruses_10000bp_31_filtered_train.csv.gz" "/labinfo/home/aandrade/data/datasets/featureMatrices/mosquito/featureMatrix_mosquito_subset_10000bp_31_train.csv.gz" "/labinfo/home/aandrade/data/datasets/featureMatrices/otherviruses/featureMatrix_otherviruses_10000bp_31_filtered_train.csv.gz" "class1_10000bp_31" 1 500 &

mkdir class1_10000bp_30
Rscript class1_rf.R "/labinfo/home/aandrade/data/datasets/featureMatrices/arboviruses/featureMatrix_arboviruses_10000bp_30_filtered_train.csv.gz" "/labinfo/home/aandrade/data/datasets/featureMatrices/mosquito/featureMatrix_mosquito_subset_10000bp_30_train.csv.gz" "/labinfo/home/aandrade/data/datasets/featureMatrices/otherviruses/featureMatrix_otherviruses_10000bp_30_filtered_train.csv.gz" "class1_10000bp_30" 1 500 &

wait

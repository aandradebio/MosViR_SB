#!/usr/bin/bash
#SBATCH --nodes=1                #Número de Nós
#SBATCH --ntasks-per-node=12   #Número de tarefas por Nó
#SBATCH --ntasks=12              #Numero total de tarefas MPI
#SBATCH --cpus-per-task=10
#SBATCH -p labinfo                  #Fila (partition) a ser utilizada
#SBATCH -J RDA          #Nome job
###SBATCH --time=00:00:30          #Obrigatório

#Exibe os nós alocados para o Job e acessa o diretorio em que o script foi submetido
echo $SLURM_JOB_NODELIST
cd  $SLURM_SUBMIT_DIR

## 1) Carrega o módulo
module load R/4.3.0_bio

Rscript process_rda.R mosquito 500bp 50 /labinfo/home/aandrade/data/datasets/featureMatrices/mos/mos500/mers/50mers &
Rscript process_rda.R mosquito 500bp 41 /labinfo/home/aandrade/data/datasets/featureMatrices/mos/mos500/mers/41mers &
Rscript process_rda.R mosquito 500bp 40 /labinfo/home/aandrade/data/datasets/featureMatrices/mos/mos500/mers/40mers &
Rscript process_rda.R mosquito 500bp 30 /labinfo/home/aandrade/data/datasets/featureMatrices/mos/mos500/mers/30mers &
Rscript process_rda.R mosquito 500bp 20 /labinfo/home/aandrade/data/datasets/featureMatrices/mos/mos500/mers/20mers &
Rscript process_rda.R mosquito 500bp 12 /labinfo/home/aandrade/data/datasets/featureMatrices/mos/mos500/mers/12mers &
Rscript process_rda.R mosquito 500bp 13 /labinfo/home/aandrade/data/datasets/featureMatrices/mos/mos500/mers/13mers &
Rscript process_rda.R mosquito 500bp 14 /labinfo/home/aandrade/data/datasets/featureMatrices/mos/mos500/mers/14mers &
Rscript process_rda.R mosquito 500bp 21 /labinfo/home/aandrade/data/datasets/featureMatrices/mos/mos500/mers/21mers &
Rscript process_rda.R mosquito 500bp 22 /labinfo/home/aandrade/data/datasets/featureMatrices/mos/mos500/mers/22mers &
Rscript process_rda.R mosquito 500bp 23 /labinfo/home/aandrade/data/datasets/featureMatrices/mos/mos500/mers/23mers &
Rscript process_rda.R mosquito 500bp 31 /labinfo/home/aandrade/data/datasets/featureMatrices/mos/mos500/mers/31mers &
Rscript process_rda.R mosquito 500bp 32 /labinfo/home/aandrade/data/datasets/featureMatrices/mos/mos500/mers/32mers &
wait
